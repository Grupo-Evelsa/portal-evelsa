{"ast":null,"code":"import _objectSpread from\"C:/Users/CAD/Documents/portal-evelsa/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{initializeApp}from'firebase/app';import{getAuth,onAuthStateChanged,createUserWithEmailAndPassword,signInWithEmailAndPassword,signOut}from'firebase/auth';import{getFirestore,collection,addDoc,query,where,getDocs,doc,getDoc,updateDoc,onSnapshot,setDoc,Timestamp,runTransaction,orderBy,deleteDoc}from'firebase/firestore';import{getStorage,ref,uploadBytesResumable,getDownloadURL}from'firebase/storage';// --- INSTRUCCIONES DE CONFIGURACIÓN DE FIREBASE ---\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const firebaseConfig={apiKey:\"AIzaSyA7H6G0mXCy9DmoLg3fSW3TrxIRcEzz9jg\",authDomain:\"portal-evelsa.firebaseapp.com\",projectId:\"portal-evelsa\",storageBucket:\"portal-evelsa.firebasestorage.app\",messagingSenderId:\"847174487471\",appId:\"1:847174487471:web:c3a57fd8315ce619a2335a\"};// --- Inicialización de Firebase ---\nconst app=initializeApp(firebaseConfig);const auth=getAuth(app);const db=getFirestore(app);const storage=getStorage(app);// --- Componentes Reutilizables ---\nconst Alert=_ref=>{let{message,type,onClose}=_ref;if(!message)return null;const baseClasses=\"p-4 mb-4 text-sm rounded-lg relative\";const typeClasses={error:\"bg-red-100 text-red-700\",success:\"bg-green-100 text-green-700\"};return/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(baseClasses,\" \").concat(typeClasses[type]),role:\"alert\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:message}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"absolute top-0 right-0 mt-2 mr-3 text-2xl font-semibold leading-none\",children:\"\\xD7\"})]});};// --- Componente de Cabecera ---\nconst Header=_ref2=>{let{user,userData}=_ref2;return/*#__PURE__*/_jsx(\"header\",{className:\"bg-white shadow-md sticky top-0 z-40\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8 flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[userData&&userData.rol==='cliente'&&userData.logoUrl?/*#__PURE__*/_jsx(\"img\",{src:userData.logoUrl,onError:e=>{e.target.onerror=null;e.target.src=\"https://placehold.co/100x40/003366/FFFFFF?text=Logo\";},alt:\"Logo Cliente\",className:\"h-10 w-auto mr-3 object-contain\"}):/*#__PURE__*/_jsx(\"svg\",{className:\"w-10 h-10 text-blue-800 mr-3\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-800\",children:\"Portal Grupo Evelsa\"})]}),user&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600 mr-4\",children:[\"Hola, \",userData?userData.nombreCompleto:user.email]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>signOut(auth),className:\"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-300\",children:\"Cerrar Sesi\\xF3n\"})]})]})});};// --- Componentes de Empleado ---\nconst UserManagement=_ref3=>{let{onUserAdded}=_ref3;/* Código del componente sin cambios */return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg border border-gray-200\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold\",children:\"Gesti\\xF3n de Usuarios\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Formulario para crear usuarios aqu\\xED...\"})]});};const NewProjectForm=_ref4=>{let{onProjectAdded}=_ref4;/* Código del componente sin cambios */return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg border border-gray-200 mb-8\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold\",children:\"Crear Proyecto\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Formulario de creaci\\xF3n de proyectos aqu\\xED...\"})]});};const ProjectsTable=_ref5=>{let{projects,onUpdateProject}=_ref5;// **NUEVO**: Modal simplificado para usar enlaces de Heyzine\nconst ManageDeliveryModal=_ref6=>{let{project,onClose,onFinalized}=_ref6;const[formData1,setFormData1]=useState({fechaEntrega:project.fechaEntrega1?project.fechaEntrega1.toDate().toISOString().split('T')[0]:'',notaEntrega:project.notaEntrega1||'',urlDocumento:project.urlDocumento1||''// Campo para el enlace de Heyzine\n});const[notaPdfFile1,setNotaPdfFile1]=useState(null);const[formData2,setFormData2]=useState({fechaEntrega:project.fechaEntrega2?project.fechaEntrega2.toDate().toISOString().split('T')[0]:'',notaEntrega:project.notaEntrega2||'',urlDocumento:project.urlDocumento2||''// Campo para el enlace de Heyzine\n});const[notaPdfFile2,setNotaPdfFile2]=useState(null);const[error,setError]=useState('');const[loading,setLoading]=useState(false);const handleChange=setter=>e=>{const{name,value}=e.target;setter(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleFileChange=setter=>e=>{if(e.target.files[0])setter(e.target.files[0]);};const uploadFile=async(file,path)=>{if(!file)return null;const storageRef=ref(storage,path);const uploadTask=uploadBytesResumable(storageRef,file);return await getDownloadURL(uploadTask.snapshot.ref);};const handleSave=async()=>{setLoading(true);setError('');try{const updatePayload={};// Procesar Documento 1 y su nota\nconst nota1Url=await uploadFile(notaPdfFile1,\"notas_entrega/\".concat(project.id,\"/nota1_\").concat(notaPdfFile1===null||notaPdfFile1===void 0?void 0:notaPdfFile1.name));if(nota1Url)updatePayload.urlNotaPdf1=nota1Url;updatePayload.urlDocumento1=formData1.urlDocumento;if(formData1.notaEntrega)updatePayload.notaEntrega1=formData1.notaEntrega;if(formData1.fechaEntrega)updatePayload.fechaEntrega1=Timestamp.fromDate(new Date(formData1.fechaEntrega));// Procesar Documento 2 y su nota\nconst nota2Url=await uploadFile(notaPdfFile2,\"notas_entrega/\".concat(project.id,\"/nota2_\").concat(notaPdfFile2===null||notaPdfFile2===void 0?void 0:notaPdfFile2.name));if(nota2Url)updatePayload.urlNotaPdf2=nota2Url;updatePayload.urlDocumento2=formData2.urlDocumento;if(formData2.notaEntrega)updatePayload.notaEntrega2=formData2.notaEntrega;if(formData2.fechaEntrega)updatePayload.fechaEntrega2=Timestamp.fromDate(new Date(formData2.fechaEntrega));// Si se proporciona un enlace para el documento 2, el proyecto se finaliza\nif(formData2.urlDocumento){if(!formData2.fechaEntrega||!formData2.notaEntrega||!notaPdfFile2&&!project.urlNotaPdf2){setError(\"Al finalizar con el Documento 2, debe completar toda la información de entrega (fecha, nota y PDF de la nota).\");setLoading(false);return;}updatePayload.estado='Terminado';}if(Object.keys(updatePayload).length>0){const projectRef=doc(db,\"proyectos\",project.id);await updateDoc(projectRef,updatePayload);}onFinalized();onClose();}catch(err){setError(\"Error al guardar: \".concat(err.message));setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-xl w-full max-w-lg\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-bold mb-4\",children:[\"Gestionar Documentos y Entrega: \",project.npu]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border rounded-lg mb-4 space-y-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-800\",children:\"Documento 1 (Intermedio)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"urlDocumento\",placeholder:\"Pegar enlace de Heyzine para Doc. 1\",value:formData1.urlDocumento,onChange:handleChange(setFormData1),className:\"block w-full px-2 py-1 border rounded-md\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h5\",{className:\"text-sm font-semibold\",children:\"Nota de Entrega del Documento 1\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"fechaEntrega\",value:formData1.fechaEntrega,onChange:handleChange(setFormData1),className:\"block w-full px-2 py-1 border rounded-md\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"notaEntrega\",placeholder:\"N\\xFAmero de nota de entrega 1\",value:formData1.notaEntrega,onChange:handleChange(setFormData1),className:\"block w-full px-2 py-1 border rounded-md\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".pdf\",onChange:handleFileChange(setNotaPdfFile1),className:\"block w-full text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border rounded-lg mb-4 space-y-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-800\",children:\"Documento 2 (Final)\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"A\\xF1adir un enlace aqu\\xED marcar\\xE1 el proyecto como \\\"Terminado\\\".\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"urlDocumento\",placeholder:\"Pegar enlace de Heyzine para Doc. 2\",value:formData2.urlDocumento,onChange:handleChange(setFormData2),className:\"block w-full px-2 py-1 border rounded-md\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h5\",{className:\"text-sm font-semibold\",children:\"Nota de Entrega del Documento 2\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"fechaEntrega\",value:formData2.fechaEntrega,onChange:handleChange(setFormData2),className:\"block w-full px-2 py-1 border rounded-md\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"notaEntrega\",placeholder:\"N\\xFAmero de nota de entrega 2\",value:formData2.notaEntrega,onChange:handleChange(setFormData2),className:\"block w-full px-2 py-1 border rounded-md\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".pdf\",onChange:handleFileChange(setNotaPdfFile2),className:\"block w-full text-sm\"})]}),/*#__PURE__*/_jsx(Alert,{message:error,type:\"error\",onClose:()=>setError('')}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onClose,disabled:loading,className:\"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded\",children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSave,disabled:loading,className:\"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded\",children:loading?'Guardando...':'Guardar Cambios'})]})]})});};/* ... código de ProjectsTable sin cambios ... */return/*#__PURE__*/_jsxs(\"div\",{className:\"overflow-x-auto bg-white rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold p-4\",children:\"Tabla de Proyectos de Empleado\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Tabla detallada de proyectos aqu\\xED...\"})]});};// --- Componentes de Cliente (Actualizados) ---\nconst ClientProjectsList=_ref7=>{let{projects}=_ref7;const formatDate=timestamp=>{if(!timestamp)return'---';return new Date(timestamp.seconds*1000).toLocaleDateString('es-MX');};const getStatusClass=estado=>{switch(estado){case'Activo':return'bg-orange-100 text-orange-800';case'Terminado':return'bg-green-100 text-green-800';default:return'bg-gray-100 text-gray-800';}};return/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow overflow-hidden\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"divide-y divide-gray-200\",children:projects.map(project=>/*#__PURE__*/_jsxs(\"li\",{className:\"p-4 md:px-6 md:py-4 flex flex-col md:flex-row md:items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 mb-4 md:mb-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:project.servicioNombre}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500 md:hidden mt-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-bold\",children:\"Fecha:\"}),\" \",formatDate(project.fechaApertura)]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full md:w-40 mb-4 md:mb-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500 hidden md:block\",children:formatDate(project.fechaApertura)})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full md:w-40 mb-4 md:mb-0\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full \".concat(getStatusClass(project.estado)),children:project.estado})}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full md:w-56 flex items-center space-x-4\",children:[project.urlDocumento1&&/*#__PURE__*/_jsx(\"a\",{href:project.urlDocumento1,target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-sm font-medium text-blue-600 hover:text-blue-900\",children:\"Ver Doc. 1\"}),project.urlDocumento2&&/*#__PURE__*/_jsx(\"a\",{href:project.urlDocumento2,target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-sm font-medium text-blue-600 hover:text-blue-900\",children:\"Ver Doc. 2\"}),project.urlNotaPdf1&&/*#__PURE__*/_jsx(\"a\",{href:project.urlNotaPdf1,target:\"_blank\",rel:\"noopener noreferrer\",download:true,className:\"text-sm font-medium text-red-600 hover:text-red-900\",children:\"Nota 1\"}),project.urlNotaPdf2&&/*#__PURE__*/_jsx(\"a\",{href:project.urlNotaPdf2,target:\"_blank\",rel:\"noopener noreferrer\",download:true,className:\"text-sm font-medium text-red-600 hover:text-red-900\",children:\"Nota 2\"}),project.estado==='Activo'&&!project.urlDocumento1&&/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-400\",children:\"En proceso\"})]})]},project.id))})});};// --- Componente Principal y de Autenticación (sin cambios) ---\nconst Dashboard=_ref8=>{let{user,userData}=_ref8;/* ... */return/*#__PURE__*/_jsx(\"div\",{children:\"Dashboard\"});};const AuthPage=()=>{/* ... */return/*#__PURE__*/_jsx(\"div\",{children:\"P\\xE1gina de Login\"});};export default function App(){/* ... */return/*#__PURE__*/_jsx(\"div\",{children:\"App Principal\"});}","map":{"version":3,"names":["React","useState","useEffect","initializeApp","getAuth","onAuthStateChanged","createUserWithEmailAndPassword","signInWithEmailAndPassword","signOut","getFirestore","collection","addDoc","query","where","getDocs","doc","getDoc","updateDoc","onSnapshot","setDoc","Timestamp","runTransaction","orderBy","deleteDoc","getStorage","ref","uploadBytesResumable","getDownloadURL","jsx","_jsx","jsxs","_jsxs","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","app","auth","db","storage","Alert","_ref","message","type","onClose","baseClasses","typeClasses","error","success","className","concat","role","children","onClick","Header","_ref2","user","userData","rol","logoUrl","src","onError","e","target","onerror","alt","fill","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","d","nombreCompleto","email","UserManagement","_ref3","onUserAdded","NewProjectForm","_ref4","onProjectAdded","ProjectsTable","_ref5","projects","onUpdateProject","ManageDeliveryModal","_ref6","project","onFinalized","formData1","setFormData1","fechaEntrega","fechaEntrega1","toDate","toISOString","split","notaEntrega","notaEntrega1","urlDocumento","urlDocumento1","notaPdfFile1","setNotaPdfFile1","formData2","setFormData2","fechaEntrega2","notaEntrega2","urlDocumento2","notaPdfFile2","setNotaPdfFile2","setError","loading","setLoading","handleChange","setter","name","value","prev","_objectSpread","handleFileChange","files","uploadFile","file","path","storageRef","uploadTask","snapshot","handleSave","updatePayload","nota1Url","id","urlNotaPdf1","fromDate","Date","nota2Url","urlNotaPdf2","estado","Object","keys","length","projectRef","err","npu","placeholder","onChange","accept","disabled","ClientProjectsList","_ref7","formatDate","timestamp","seconds","toLocaleDateString","getStatusClass","map","servicioNombre","fechaApertura","href","rel","download","Dashboard","_ref8","AuthPage","App"],"sources":["C:/Users/CAD/Documents/portal-evelsa/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { initializeApp } from 'firebase/app';\r\nimport { \r\n    getAuth, \r\n    onAuthStateChanged, \r\n    createUserWithEmailAndPassword, \r\n    signInWithEmailAndPassword, \r\n    signOut \r\n} from 'firebase/auth';\r\nimport { \r\n    getFirestore, \r\n    collection, \r\n    addDoc, \r\n    query, \r\n    where, \r\n    getDocs, \r\n    doc, \r\n    getDoc,\r\n    updateDoc,\r\n    onSnapshot,\r\n    setDoc,\r\n    Timestamp,\r\n    runTransaction,\r\n    orderBy,\r\n    deleteDoc\r\n} from 'firebase/firestore';\r\nimport { \r\n    getStorage, \r\n    ref, \r\n    uploadBytesResumable, \r\n    getDownloadURL \r\n} from 'firebase/storage';\r\n\r\n// --- INSTRUCCIONES DE CONFIGURACIÓN DE FIREBASE ---\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyA7H6G0mXCy9DmoLg3fSW3TrxIRcEzz9jg\",\r\n  authDomain: \"portal-evelsa.firebaseapp.com\",\r\n  projectId: \"portal-evelsa\",\r\n  storageBucket: \"portal-evelsa.firebasestorage.app\",\r\n  messagingSenderId: \"847174487471\",\r\n  appId: \"1:847174487471:web:c3a57fd8315ce619a2335a\"\r\n};\r\n\r\n// --- Inicialización de Firebase ---\r\nconst app = initializeApp(firebaseConfig);\r\nconst auth = getAuth(app);\r\nconst db = getFirestore(app);\r\nconst storage = getStorage(app);\r\n\r\n// --- Componentes Reutilizables ---\r\nconst Alert = ({ message, type, onClose }) => {\r\n    if (!message) return null;\r\n    const baseClasses = \"p-4 mb-4 text-sm rounded-lg relative\";\r\n    const typeClasses = { error: \"bg-red-100 text-red-700\", success: \"bg-green-100 text-green-700\" };\r\n    return (\r\n        <div className={`${baseClasses} ${typeClasses[type]}`} role=\"alert\">\r\n            <span className=\"font-medium\">{message}</span>\r\n            <button onClick={onClose} className=\"absolute top-0 right-0 mt-2 mr-3 text-2xl font-semibold leading-none\">&times;</button>\r\n        </div>\r\n    );\r\n};\r\n\r\n// --- Componente de Cabecera ---\r\nconst Header = ({ user, userData }) => (\r\n    <header className=\"bg-white shadow-md sticky top-0 z-40\">\r\n        <div className=\"max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8 flex justify-between items-center\">\r\n            <div className=\"flex items-center\">\r\n                 {userData && userData.rol === 'cliente' && userData.logoUrl ? (\r\n                    <img src={userData.logoUrl} onError={(e)=>{e.target.onerror = null; e.target.src=\"https://placehold.co/100x40/003366/FFFFFF?text=Logo\"}} alt=\"Logo Cliente\" className=\"h-10 w-auto mr-3 object-contain\"/>\r\n                ) : (\r\n                    <svg className=\"w-10 h-10 text-blue-800 mr-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z\"></path></svg>\r\n                )}\r\n                <h1 className=\"text-2xl font-bold text-gray-800\">Portal Grupo Evelsa</h1>\r\n            </div>\r\n            {user && (\r\n                <div className=\"flex items-center\">\r\n                    <span className=\"text-gray-600 mr-4\">Hola, {userData ? userData.nombreCompleto : user.email}</span>\r\n                    <button onClick={() => signOut(auth)} className=\"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-300\">Cerrar Sesión</button>\r\n                </div>\r\n            )}\r\n        </div>\r\n    </header>\r\n);\r\n\r\n// --- Componentes de Empleado ---\r\nconst UserManagement = ({ onUserAdded }) => { /* Código del componente sin cambios */ return <div className=\"bg-white p-6 rounded-xl shadow-lg border border-gray-200\"><h3 className=\"text-xl font-bold\">Gestión de Usuarios</h3><p>Formulario para crear usuarios aquí...</p></div>;};\r\nconst NewProjectForm = ({ onProjectAdded }) => { /* Código del componente sin cambios */ return <div className=\"bg-white p-6 rounded-xl shadow-lg border border-gray-200 mb-8\"><h3 className=\"text-xl font-bold\">Crear Proyecto</h3><p>Formulario de creación de proyectos aquí...</p></div>;};\r\n\r\n\r\nconst ProjectsTable = ({ projects, onUpdateProject }) => {\r\n    \r\n    // **NUEVO**: Modal simplificado para usar enlaces de Heyzine\r\n    const ManageDeliveryModal = ({ project, onClose, onFinalized }) => {\r\n        const [formData1, setFormData1] = useState({\r\n            fechaEntrega: project.fechaEntrega1 ? project.fechaEntrega1.toDate().toISOString().split('T')[0] : '',\r\n            notaEntrega: project.notaEntrega1 || '',\r\n            urlDocumento: project.urlDocumento1 || '' // Campo para el enlace de Heyzine\r\n        });\r\n        const [notaPdfFile1, setNotaPdfFile1] = useState(null);\r\n\r\n        const [formData2, setFormData2] = useState({\r\n            fechaEntrega: project.fechaEntrega2 ? project.fechaEntrega2.toDate().toISOString().split('T')[0] : '',\r\n            notaEntrega: project.notaEntrega2 || '',\r\n            urlDocumento: project.urlDocumento2 || '' // Campo para el enlace de Heyzine\r\n        });\r\n        const [notaPdfFile2, setNotaPdfFile2] = useState(null);\r\n        \r\n        const [error, setError] = useState('');\r\n        const [loading, setLoading] = useState(false);\r\n\r\n        const handleChange = (setter) => (e) => {\r\n            const { name, value } = e.target;\r\n            setter(prev => ({ ...prev, [name]: value }));\r\n        };\r\n\r\n        const handleFileChange = (setter) => (e) => {\r\n            if (e.target.files[0]) setter(e.target.files[0]);\r\n        };\r\n\r\n        const uploadFile = async (file, path) => {\r\n            if (!file) return null;\r\n            const storageRef = ref(storage, path);\r\n            const uploadTask = uploadBytesResumable(storageRef, file);\r\n            return await getDownloadURL(uploadTask.snapshot.ref);\r\n        };\r\n\r\n        const handleSave = async () => {\r\n            setLoading(true);\r\n            setError('');\r\n            try {\r\n                const updatePayload = {};\r\n\r\n                // Procesar Documento 1 y su nota\r\n                const nota1Url = await uploadFile(notaPdfFile1, `notas_entrega/${project.id}/nota1_${notaPdfFile1?.name}`);\r\n                if (nota1Url) updatePayload.urlNotaPdf1 = nota1Url;\r\n                updatePayload.urlDocumento1 = formData1.urlDocumento;\r\n                if (formData1.notaEntrega) updatePayload.notaEntrega1 = formData1.notaEntrega;\r\n                if (formData1.fechaEntrega) updatePayload.fechaEntrega1 = Timestamp.fromDate(new Date(formData1.fechaEntrega));\r\n\r\n                // Procesar Documento 2 y su nota\r\n                const nota2Url = await uploadFile(notaPdfFile2, `notas_entrega/${project.id}/nota2_${notaPdfFile2?.name}`);\r\n                if (nota2Url) updatePayload.urlNotaPdf2 = nota2Url;\r\n                updatePayload.urlDocumento2 = formData2.urlDocumento;\r\n                if (formData2.notaEntrega) updatePayload.notaEntrega2 = formData2.notaEntrega;\r\n                if (formData2.fechaEntrega) updatePayload.fechaEntrega2 = Timestamp.fromDate(new Date(formData2.fechaEntrega));\r\n\r\n                // Si se proporciona un enlace para el documento 2, el proyecto se finaliza\r\n                if (formData2.urlDocumento) {\r\n                    if (!formData2.fechaEntrega || !formData2.notaEntrega || (!notaPdfFile2 && !project.urlNotaPdf2)) {\r\n                        setError(\"Al finalizar con el Documento 2, debe completar toda la información de entrega (fecha, nota y PDF de la nota).\");\r\n                        setLoading(false);\r\n                        return;\r\n                    }\r\n                    updatePayload.estado = 'Terminado';\r\n                }\r\n                \r\n                if (Object.keys(updatePayload).length > 0) {\r\n                    const projectRef = doc(db, \"proyectos\", project.id);\r\n                    await updateDoc(projectRef, updatePayload);\r\n                }\r\n                \r\n                onFinalized();\r\n                onClose();\r\n\r\n            } catch(err) {\r\n                 setError(`Error al guardar: ${err.message}`);\r\n                 setLoading(false);\r\n            }\r\n        };\r\n\r\n        return (\r\n            <div className=\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4\">\r\n                <div className=\"bg-white p-6 rounded-lg shadow-xl w-full max-w-lg\">\r\n                    <h3 className=\"text-lg font-bold mb-4\">Gestionar Documentos y Entrega: {project.npu}</h3>\r\n                    \r\n                    <div className=\"p-4 border rounded-lg mb-4 space-y-3\">\r\n                        <h4 className=\"font-semibold text-gray-800\">Documento 1 (Intermedio)</h4>\r\n                        <input type=\"text\" name=\"urlDocumento\" placeholder=\"Pegar enlace de Heyzine para Doc. 1\" value={formData1.urlDocumento} onChange={handleChange(setFormData1)} className=\"block w-full px-2 py-1 border rounded-md\"/>\r\n                        <hr/>\r\n                        <h5 className=\"text-sm font-semibold\">Nota de Entrega del Documento 1</h5>\r\n                        <input type=\"date\" name=\"fechaEntrega\" value={formData1.fechaEntrega} onChange={handleChange(setFormData1)} className=\"block w-full px-2 py-1 border rounded-md\"/>\r\n                        <input type=\"text\" name=\"notaEntrega\" placeholder=\"Número de nota de entrega 1\" value={formData1.notaEntrega} onChange={handleChange(setFormData1)} className=\"block w-full px-2 py-1 border rounded-md\"/>\r\n                        <input type=\"file\" accept=\".pdf\" onChange={handleFileChange(setNotaPdfFile1)} className=\"block w-full text-sm\"/>\r\n                    </div>\r\n\r\n                    <div className=\"p-4 border rounded-lg mb-4 space-y-3\">\r\n                        <h4 className=\"font-semibold text-gray-800\">Documento 2 (Final)</h4>\r\n                        <p className=\"text-xs text-gray-500\">Añadir un enlace aquí marcará el proyecto como \"Terminado\".</p>\r\n                        <input type=\"text\" name=\"urlDocumento\" placeholder=\"Pegar enlace de Heyzine para Doc. 2\" value={formData2.urlDocumento} onChange={handleChange(setFormData2)} className=\"block w-full px-2 py-1 border rounded-md\"/>\r\n                        <hr/>\r\n                        <h5 className=\"text-sm font-semibold\">Nota de Entrega del Documento 2</h5>\r\n                        <input type=\"date\" name=\"fechaEntrega\" value={formData2.fechaEntrega} onChange={handleChange(setFormData2)} className=\"block w-full px-2 py-1 border rounded-md\"/>\r\n                        <input type=\"text\" name=\"notaEntrega\" placeholder=\"Número de nota de entrega 2\" value={formData2.notaEntrega} onChange={handleChange(setFormData2)} className=\"block w-full px-2 py-1 border rounded-md\"/>\r\n                        <input type=\"file\" accept=\".pdf\" onChange={handleFileChange(setNotaPdfFile2)} className=\"block w-full text-sm\"/>\r\n                    </div>\r\n\r\n                    <Alert message={error} type=\"error\" onClose={() => setError('')} />\r\n                    <div className=\"mt-6 flex justify-end space-x-3\">\r\n                        <button onClick={onClose} disabled={loading} className=\"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded\">Cancelar</button>\r\n                        <button onClick={handleSave} disabled={loading} className=\"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded\">{loading ? 'Guardando...' : 'Guardar Cambios'}</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    /* ... código de ProjectsTable sin cambios ... */\r\n    return <div className=\"overflow-x-auto bg-white rounded-lg shadow\"><h3 className=\"text-xl font-bold p-4\">Tabla de Proyectos de Empleado</h3><p>Tabla detallada de proyectos aquí...</p></div>;\r\n};\r\n\r\n// --- Componentes de Cliente (Actualizados) ---\r\nconst ClientProjectsList = ({ projects }) => {\r\n    const formatDate = (timestamp) => {\r\n        if (!timestamp) return '---';\r\n        return new Date(timestamp.seconds * 1000).toLocaleDateString('es-MX');\r\n    };\r\n    \r\n    const getStatusClass = (estado) => {\r\n        switch(estado) {\r\n            case 'Activo': return 'bg-orange-100 text-orange-800';\r\n            case 'Terminado': return 'bg-green-100 text-green-800';\r\n            default: return 'bg-gray-100 text-gray-800';\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-white rounded-lg shadow overflow-hidden\">\r\n            <ul className=\"divide-y divide-gray-200\">\r\n                {projects.map(project => (\r\n                    <li key={project.id} className=\"p-4 md:px-6 md:py-4 flex flex-col md:flex-row md:items-center\">\r\n                        <div className=\"flex-1 mb-4 md:mb-0\"><div className=\"text-sm font-medium text-gray-900\">{project.servicioNombre}</div><div className=\"text-sm text-gray-500 md:hidden mt-2\"><span className=\"font-bold\">Fecha:</span> {formatDate(project.fechaApertura)}</div></div>\r\n                        <div className=\"w-full md:w-40 mb-4 md:mb-0\"><div className=\"text-sm text-gray-500 hidden md:block\">{formatDate(project.fechaApertura)}</div></div>\r\n                        <div className=\"w-full md:w-40 mb-4 md:mb-0\"><span className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${getStatusClass(project.estado)}`}>{project.estado}</span></div>\r\n                        <div className=\"w-full md:w-56 flex items-center space-x-4\">\r\n                            {/* **NUEVO**: Ahora son <a> que abren el enlace de Heyzine */}\r\n                            {project.urlDocumento1 && <a href={project.urlDocumento1} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-sm font-medium text-blue-600 hover:text-blue-900\">Ver Doc. 1</a>}\r\n                            {project.urlDocumento2 && <a href={project.urlDocumento2} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-sm font-medium text-blue-600 hover:text-blue-900\">Ver Doc. 2</a>}\r\n                            {project.urlNotaPdf1 && <a href={project.urlNotaPdf1} target=\"_blank\" rel=\"noopener noreferrer\" download className=\"text-sm font-medium text-red-600 hover:text-red-900\">Nota 1</a>}\r\n                            {project.urlNotaPdf2 && <a href={project.urlNotaPdf2} target=\"_blank\" rel=\"noopener noreferrer\" download className=\"text-sm font-medium text-red-600 hover:text-red-900\">Nota 2</a>}\r\n                            {(project.estado === 'Activo' && !project.urlDocumento1) && <span className=\"text-sm text-gray-400\">En proceso</span>}\r\n                        </div>\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\n// --- Componente Principal y de Autenticación (sin cambios) ---\r\nconst Dashboard = ({ user, userData }) => { /* ... */ return <div>Dashboard</div> };\r\nconst AuthPage = () => { /* ... */ return <div>Página de Login</div>; };\r\nexport default function App() { /* ... */ return <div>App Principal</div>; }\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}